var extend=function(t,r){function n(){this.constructor=t}for(var e in r)hasProp.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},hasProp={}.hasOwnProperty;define(["marionette","backbone","underscore","jquery","backbone.radio"],function(t,r,n,e){var o;return t.Application.prototype._initChannel=function(){return this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||r.Radio.channel(this.channelName)},new(o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return extend(n,t),n.prototype.vent=null,n.prototype._loadServices=function(t){var r,n,o,i,a;for(i=[],r=function(t){return function(t){var r;return r=e.Deferred(),i.push(r),require(["service/"+t],function(t){return r.resolve()})}}(this),n=0,o=t.length;o>n;n++)a=t[n],r(a);return e.when.apply(e,i)},n.prototype.onStart=function(t){return require(["abstract/Controller","abstract/Model","abstract/Collection"],function(n){return function(){var e;return n.vent=n.module("Abstract").Controller.prototype.vent,n.vent.reply("config",t),e=n._loadServices(t.services),e.then(function(){return r.history.start(t.routerOptions),n.vent.trigger("start:app")})}}(this))},n}(t.Application))});